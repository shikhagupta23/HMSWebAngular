		<!-- Main Wrapper -->
		<div class="main-wrapper">
	
            <!-- <app-header></app-header> -->
            
			<!-- Breadcrumb -->
			<div class="breadcrumb-bar-two">
				<div class="container">
					<div class="row align-items-center inner-banner">
						<div class="col-md-2 col-2">
							<a href="/receptionist" class="menu-logo">
								<img src="assets/img/logo.png" class="img-fluid" alt="Logo">
							</a>
						</div>
						<div class="col-md-10 col-10 text-center">
							<h2 class="breadcrumb-title">Today's Appointments</h2>
							<nav aria-label="breadcrumb" class="page-breadcrumb">
								<ol class="breadcrumb">
									<li class="breadcrumb-item"><a routerLink="/doctor">Home</a></li>
									<li class="breadcrumb-item" aria-current="page">Today's Appointments</li>
								</ol>
							</nav>
						</div>
					</div>
				</div>
			</div>
			<!-- /Breadcrumb -->
			
			<!-- Page Content -->
			<div class="content">
				<div class="container">
					<div class="row">	
						<div class="col-lg-4 col-xl-3 theiaStickySidebar">
							<app-asidebar class="h-100"></app-asidebar>
						</div>				
						<div class="col-lg-8 col-xl-9">
							<div class="dashboard-header">
								<h3>Today's Appointments</h3>
								<ul class="header-list-btns">
									<li class="me-2">
										<div class="input-block dash-search-input">
										<div class="input-block dash-search-input w-100">
											<input type="text" class="form-control" placeholder="Search"
												[(ngModel)]="searchText"
												(input)="onSearchChange()">
											<span class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
										</div>
										<span class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
										</div>
									</li>
									<li>
										<a class="btn btn-primary" (click)="openAddAppointmentModal()">+ Add New</a>
									</li>
								</ul>
							</div>
							<div class="tab-content appointment-tab-content">
								<div class="tab-pane fade show active" id="pills-upcoming" role="tabpanel" aria-labelledby="pills-upcoming-tab">
<div class="appointment-wrap p-3 mb-2 border rounded" *ngFor="let item of dataList">
    <div class="row g-3 align-items-center flex-md-nowrap">

        <!-- Patient Name -->
        <div class="col-12 col-md">
            <div class="d-flex align-items-center gap-2">
                <strong>{{ item.patientName }}</strong>
            </div>
        </div>

        <!-- Doctor Name -->
        <div class="col-12 col-md">
            <span>{{ item.doctorName }}</span>
        </div>

        <!-- Appointment Date -->
        <div class="col-12 col-md">
            <span>
                {{ formatDate(item.appointmentDate) }}
            </span>
        </div>

        <!-- Visit Reason -->
        <div class="col-12 col-md">
            <span class="text-muted">{{ item.visitReason }}</span>
        </div>

        <!-- Phone -->
        <div class="col-12 col-md">
            <span>{{ item.patientPhone }}</span>
        </div>

        <!-- Created Date -->
        <div class="col-12 col-md">
            <span>Created: {{ formatDate(item.createdAt) }}</span>
        </div>

    </div>
</div>


								</div>
								<div class="pagination dashboard-pagination mb-5" *ngIf="totalPages > 1">
									<ul>
										<!-- Previous -->
										<li>
										<a class="page-link" (click)="previousPage()">
											<i class="fa-solid fa-chevron-left"></i>
										</a>
										</li>

										<!-- Page Numbers -->
										<li *ngFor="let p of [].constructor(totalPages); let i = index">
										<a class="page-link"
											[class.active]="pageNumber === (i+1)"
											(click)="goToPage(i+1)">
											{{ i+1 }}
										</a>
										</li>

										<!-- Next -->
										<li>
										<a class="page-link" (click)="nextPage()">
											<i class="fa-solid fa-chevron-right"></i>
										</a>
										</li>
									</ul>
								</div>
							</div>
					</div>

				</div>

			</div>		
			<!-- /Page Content -->
			</div>
		<!-- /Main Wrapper -->
		</div>
		<div class="modal fade" id="addAppointmentModal" tabindex="-1" aria-hidden="true">
			<div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
				<div class="modal-content rounded-4 border-0 shadow">

				<div class="modal-header">
					<h5 class="modal-title">Add Appointment</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>

				<div class="modal-body">

					<form [formGroup]="addAppointmentForm" (ngSubmit)="onSubmit()">

					<!-- Your Entire Form ✔ Converted into Modal -->
					<div class="row g-3">

						<!-- PATIENT INFO CARD -->
						<div class="col-12">
						<h6 class="fw-bold mb-3">
							<i class="fas fa-user-circle me-2"></i>Patient Information
						</h6>

						<div class="row g-3">

							<div class="col-md-3 position-relative">
							<label class="form-label small fw-semibold">Full Name <span class="text-danger">*</span></label>
							<input type="text" class="form-control rounded-pill"
									formControlName="fullName"
									(input)="getPatientByTerm()">

							<!-- Auto Suggest -->
							<ul *ngIf="patientList.length > 0"
								class="list-group position-absolute w-100 autosuggest-dropdown"
								style="z-index:1000; max-height:200px; overflow-y:auto; top:100%;">
								<li class="list-group-item list-group-item-action"
									*ngFor="let p of patientList"
									(click)="selectPatient(p)">
								{{ p.userName }} ({{ p.phone }})
								</li>
							</ul>
							</div>

							<div class="col-md-2">
							<label class="form-label small fw-semibold">Gender</label>
							<select class="form-control rounded-pill" formControlName="gender">
								<option value="">Select</option>
								<option value="M">Male</option>
								<option value="F">Female</option>
								<option value="O">Other</option>
							</select>
							</div>

							<div class="col-md-2">
							<label class="form-label small fw-semibold">Date of Birth</label>
							<input type="date" class="form-control rounded-pill" formControlName="dob">
							</div>

							<div class="col-md-2">
							<label class="form-label small fw-semibold">Phone <span class="text-danger">*</span></label>
							<input type="text" class="form-control rounded-pill" formControlName="phoneNumber"
									(input)="checkPhone()">
							</div>

							<div class="col-md-3">
							<label class="form-label small fw-semibold">Address</label>
							<input type="text" class="form-control rounded-pill" formControlName="address">
							</div>

						</div>
						</div>

						<!-- VITALS -->
						<div class="col-12 mt-3">
						<h6 class="fw-bold mb-3">
							<i class="fas fa-heartbeat me-2"></i>Vitals
						</h6>
						<div class="row g-3">
							<div class="col-md-2" *ngFor="let field of [
							{label:'Weight (kg)', name:'weight'},
							{label:'Height (cm)', name:'height'},
							{label:'Pulse (bpm)', name:'pulse'},
							{label:'Oxygen (%)', name:'oxygen'},
							{label:'Refer Doctor', name:'referDoctor'},
							{label:'ABHA ID', name:'abhaId'}
							]">
							<label class="form-label small fw-semibold">{{field.label}}</label>
							<input class="form-control rounded-pill" [formControlName]="field.name">
							</div>
						</div>
						</div>

						<!-- APPOINTMENT DETAILS -->
						<div class="col-12 mt-3">
						<h6 class="fw-bold mb-3">
							<i class="fas fa-calendar-check me-2"></i>Appointment Details
						</h6>

						<div class="row g-3">

							<div class="col-md-3">
							<label class="form-label small fw-semibold">Appointment Date <span class="text-danger">*</span></label>
							<input type="datetime-local" class="form-control rounded-pill"
									formControlName="appointmentDate">
							</div>

							<div class="col-md-3">
							<label class="form-label small fw-semibold">Doctor <span class="text-danger">*</span></label>
							<select class="form-control rounded-pill"
									formControlName="doctor"
									(change)="getDoctorFee()">
								<option value="">Select Doctor</option>
								<option *ngFor="let doc of doctorList" [value]="doc.userId">
								{{ doc.fullName }}
								</option>
							</select>
							</div>

							<div class="col-md-2">
							<label class="form-label small fw-semibold">Fee (₹)</label>
							<input type="number" class="form-control rounded-pill" formControlName="appointmentFee">
							</div>

							<div class="col-md-4">
							<label class="form-label small fw-semibold">Visit Reason</label>
							<input type="text" class="form-control rounded-pill" formControlName="visitReason">
							</div>

						</div>
						</div>

					</div>

					</form>

				</div>

				<div class="modal-footer rounded-bottom-4 border-0">
					<button class="btn btn-outline-secondary rounded-pill" data-bs-dismiss="modal">Cancel</button>
					<button (click)="onSubmit()" class="btn btn-primary rounded-pill">Save Appointment</button>
				</div>

				</div>
			</div>
		</div>